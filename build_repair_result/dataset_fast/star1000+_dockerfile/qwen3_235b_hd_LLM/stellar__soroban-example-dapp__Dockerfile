FROM ubuntu:22.04

ENV PATH="$PATH:/root/.cargo/bin"
RUN apt-get update && apt-get install -y curl build-essential \
    && rm -rf /var/lib/apt/lists/* \
    && curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs > rust_install.sh \
    && sh rust_install.sh -y \
    && rm rust_install.sh \
    && rustup target add wasm32-unknown-unknown

RUN mkdir /workspace
WORKDIR /workspace
ENV IS_USING_DOCKER=true